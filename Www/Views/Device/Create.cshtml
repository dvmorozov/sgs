@model web.Models.ViewDevice

@{
	ViewBag.Title = "New meter associated with group \"" + ViewBag.GroupName + "\"";
	Layout = "~/Views/Shared/_LayoutAcquisition.cshtml";
}

<h2>@Html.Raw(ViewBag.Title)</h2>

<p>
	@Html.ActionLink("Meters", (String)("GroupDevices/" + Model.GroupID.ToString()))
</p>

@using (Html.BeginForm()) 
{
	@Html.ValidationSummary(true)
	<fieldset>
		<legend>Meter properties</legend>

		@Html.HiddenFor(model => model.AddressType)
		@Html.HiddenFor(model => model.GroupID)

		<table style="width:100%;">
			<tr>
				<td style="border: 0 hidden;">
					<div class="editor-label">
						@Html.LabelFor(model => model.Name, "Meter name")
					</div>
				</td>
				<td style="border: 0 hidden;">
					<div class="editor-field">
						@Html.EditorFor(model => model.Name)
						@Html.ValidationMessageFor(model => model.Name)
					</div>
				</td>

				<td style="border: 0 hidden;">
					<div class="editor-label">
					</div>
				</td>
				<td style="border: 0 hidden;">
					<div class="editor-field">
					</div>
				</td>
			</tr>
			<tr>
				<td style="border: 0 hidden;">
					<div class="editor-label">
						@Html.LabelFor(model => model.TypeID, "Meter type")
					</div>
				</td>
				<td style="border: 0 hidden;">
					<div class="editor-field">
						@Html.DropDownList("TypeID")
						@Html.ValidationMessageFor(model => model.TypeID)
					</div>
				</td>
				<td style="border: 0 hidden;">
					<div class="editor-label">
						@Html.LabelFor(model => model.InternalAddress, "Internal address")
					</div>
				</td>
				<td style="border: 0 hidden;">
					<div class="editor-field">
						@Html.EditorFor(model => model.InternalAddress)
						@Html.ValidationMessageFor(model => model.InternalAddress)
					</div>
				</td>
			</tr>
			<tr>
				<td style="border: 0 hidden;">
					<div class="editor-label">
						@Html.Raw("Primary IP")
					</div>
				</td>
				<td style="border: 0 hidden;">
					<div class="editor-field">
						@Html.TextBoxFor(model => model.IP1, new { style = "width:33px;" })
						@Html.ValidationMessageFor(model => model.IP1) . 
						@Html.TextBoxFor(model => model.IP2, new { style = "width:33px;" })
						@Html.ValidationMessageFor(model => model.IP2) .
						@Html.TextBoxFor(model => model.IP3, new { style = "width:33px;" })
						@Html.ValidationMessageFor(model => model.IP3) .
						@Html.TextBoxFor(model => model.IP4, new { style = "width:33px;" })
						@Html.ValidationMessageFor(model => model.IP4)
					</div>
				</td>
				<td style="border: 0 hidden;">
					<div class="editor-label">
						@Html.LabelFor(model => model.Port, "Primary port")
					</div>
				</td>
				<td style="border: 0 hidden;">
					<div class="editor-field">
						@Html.EditorFor(model => model.Port)
						@Html.ValidationMessageFor(model => model.Port)
					</div>
				</td>
			</tr>
			<tr>
				<td style="border: 0 hidden;">
					<div class="editor-label">
						@Html.Raw("Secondary IP")
					</div>
				</td>
				<td style="border: 0 hidden;">
					<div class="editor-field">
						@Html.TextBoxFor(model => model.SecondaryIP1, new { style = "width:33px;" })
						@Html.ValidationMessageFor(model => model.SecondaryIP1) . 
						@Html.TextBoxFor(model => model.SecondaryIP2, new { style = "width:33px;" })
						@Html.ValidationMessageFor(model => model.SecondaryIP2) .
						@Html.TextBoxFor(model => model.SecondaryIP3, new { style = "width:33px;" })
						@Html.ValidationMessageFor(model => model.SecondaryIP3) .
						@Html.TextBoxFor(model => model.SecondaryIP4, new { style = "width:33px;" })
						@Html.ValidationMessageFor(model => model.SecondaryIP4)
					</div>
				</td>
				<td style="border: 0 hidden;">
					<div class="editor-label">
						@Html.LabelFor(model => model.SecondaryPort, "Secondary port")
					</div>
				</td>
				<td style="border: 0 hidden;">
					<div class="editor-field">
						@Html.EditorFor(model => model.SecondaryPort)
						@Html.ValidationMessageFor(model => model.SecondaryPort)
					</div>
				</td>
			</tr>
		</table>
	</fieldset>
	<p>
		<input type="submit" value="Create" />
	</p>
}
