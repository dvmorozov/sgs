@model web.Models.ViewChart

@{
	ViewBag.Title = ViewBag.ExceptionMessage != null ? "Error" : Model.Name.TrimEnd();
	Layout = ""; /*must be set empty explicitly*/
}

@{
	if (ViewBag.ExceptionMessage != null)
	{
		@Html.Raw("Sorry, an error occurred while processing your request: " + (String)ViewBag.ExceptionMessage)
	}
	else
	{
		try
		{
			// output of states of data elements
			var states = (List<String>)ViewBag.DataStates;
			for (int i = 0; i < states.Count(); i++)
			{
				@Html.Raw(states[i])
			}
		}
		catch (Exception e)
		{
			@Html.Raw("Sorry, an error occurred while processing your request: " + e.Message)
		}
	}
}
